// popup.js
function sha1(e){let t=CryptoJS.SHA1(e);return t.toString(CryptoJS.enc.Hex)}function checkPasswordStrength(e){return e.length<8?"Password too short.":-1===e.search(/[A-Z]/)?"Password must contain at least one uppercase letter.":-1===e.search(/[a-z]/)?"Password must contain at least one lowercase letter.":-1===e.search(/[0-9]/)?"Password must contain at least one number.":-1===e.search(/[!@#$%^&*]/)?"Password must contain at least one special character.":"Password is strong!"}function fadeInContent(){var e=document.getElementById("content");e.style.display="block",e.style.opacity="0",e.style.transform="translateY(-100px)",e.style.transition="opacity 1s ease-in-out, transform 1s ease-in-out",setTimeout(function(){e.style.opacity="1",e.style.transform="translateY(0)"},3e3)}function copyToClipboard(e){let t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("checkButton"),t=document.getElementById("passwordInput"),o=document.getElementById("result"),s=document.getElementById("loading");e.addEventListener("click",()=>{let e=t.value;s.style.display="block",setTimeout(()=>{s.style.display="none";let t=sha1(e).toUpperCase(),n=`https://api.pwnedpasswords.com/range/${t.substring(0,5)}`;fetch(n).then(e=>{if(e.ok)return e.text();throw Error("Network response was not ok.")}).then(s=>{let n=s.split("\n"),a=t.substring(5),r=n.some(e=>{let[t,o]=e.split(":");return t===a});if(r)o.textContent="Password compromised by hacker",o.style.color="red";else{let l=checkPasswordStrength(e);o.textContent=l,o.style.color="green"}}).catch(e=>{console.error("There was a problem with the fetch operation:",e),o.textContent="Error occurred. Please try again later.",o.style.color="black"})},3e3)})}),document.getElementById("decryptButton").addEventListener("click",function(){let e=document.getElementById("passwordInput"),t=e.value.trim(),o=t.toLowerCase(),s=document.getElementById("loading");s.style.display="block",setTimeout(()=>{if(s.style.display="none",32===o.length&&/^[a-f0-9]{32}$/.test(o)){let e=document.getElementById("result");e.textContent=`Hash: ${o}`,e.style.color="black";let t=document.createElement("a");t.href="https://crackstation.net/",t.target="_blank",t.textContent="CrackStation",t.onclick=()=>{copyToClipboard(o)},e.appendChild(document.createElement("br")),e.appendChild(t),copyToClipboard(o)}else{let n=`https://api.pwnedpasswords.com/range/${o.substring(0,5)}`;fetch(n).then(e=>{if(e.ok)return e.text();throw Error("Network response was not ok.")}).then(e=>{let t=e.split("\n"),s=o.toUpperCase(),n=t.some(e=>{let[t,o]=e.split(":");return t===s}),a=document.getElementById("result");n?(a.textContent="Password compromised by hacker",a.style.color="red"):(a.textContent="Password not found in database",a.style.color="green")}).catch(e=>{console.error("There was a problem with the fetch operation:",e);let t=document.getElementById("result");t.textContent="Please Input Valid MD5 Hash",t.style.color="black"})}},3e3)}),setTimeout(function(){document.getElementById("matrix").style.display="block",fadeInContent()},0);const passwordInput=document.getElementById("passwordInput"),showPasswordCheckbox=document.getElementById("showPasswordCheckbox"),showPasswordCheckboxLabel=document.getElementById("showPasswordCheckboxLabel");showPasswordCheckbox.addEventListener("change",function(){showPasswordCheckbox.checked?passwordInput.type="text":passwordInput.type="password"}),showPasswordCheckboxLabel.addEventListener("mouseenter",function(){showPasswordCheckboxLabel.style.textDecoration="underline"}),showPasswordCheckboxLabel.addEventListener("mouseleave",function(){showPasswordCheckboxLabel.style.textDecoration="none"});
